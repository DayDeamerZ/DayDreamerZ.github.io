<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />
    
    <link rel="icon" href="https://github.githubassets.com/favicons/favicon.svg"><script>
        let theme = localStorage.getItem("meek_theme") || "light";
        document.documentElement.setAttribute("data-color-mode", theme);
    </script>
<meta name="description" content="# 准备工作
## 1、云服务器：阿里云轻量级服务器
原生配置：（购买服务器时勾选的自带配置）
应用配置：

![Image](https://github.com/user-attachments/assets/6f932dfd-04eb-4b56-ae74-66ef92cb9d8c)

![Image](https://github.com/user-attachments/assets/abe2ec39-5fec-44dc-b59c-0a21188a23eb)

![Image](https://github.com/user-attachments/assets/3560ffe6-3067-4daa-8765-4974d8775688)

系统配置：

![Image](https://github.com/user-attachments/assets/ba351199-6a93-4c9d-b56a-98be604f3131)

## 2、域名
购买域名：
域名DNS解析：
域名备案：

## 3、服务器上线部署软件/平台
目前了解到有：
宝塔面板：操作简便，具有远程连接管理服务器的功能，镜像商店齐全，部署上线多次未果，暂时不推荐
Nginx：是一种轻量级的http服务器，也是反向代理服务器，总之用起来有些复杂，不推荐
tomact: 比较流行的Web 应用服务器, 实际上Tomcat是Apache 服务器的扩展，但运行时它是独立运行 ,  一般不作为部署普通html网页使用， 不推荐
httpd：是apache软件包的名字，apache是超文本传输协议的主程序（http协议就是网站，端口默认80），配置文件简单易懂，推荐

# 网页部署上线流程：
## 1、准备好需要部署的文件
对于我们使用的httpd方法来说，每一个html文件需要其对应的css文件与之处于同一级别目录中，js文件、resouse图片集同理如此。">
<meta property="og:title" content="LNMP部署网站于云服务器上线全流程实例-www.dongliqingdan.top（该域名已失效）">
<meta property="og:description" content="# 准备工作
## 1、云服务器：阿里云轻量级服务器
原生配置：（购买服务器时勾选的自带配置）
应用配置：

![Image](https://github.com/user-attachments/assets/6f932dfd-04eb-4b56-ae74-66ef92cb9d8c)

![Image](https://github.com/user-attachments/assets/abe2ec39-5fec-44dc-b59c-0a21188a23eb)

![Image](https://github.com/user-attachments/assets/3560ffe6-3067-4daa-8765-4974d8775688)

系统配置：

![Image](https://github.com/user-attachments/assets/ba351199-6a93-4c9d-b56a-98be604f3131)

## 2、域名
购买域名：
域名DNS解析：
域名备案：

## 3、服务器上线部署软件/平台
目前了解到有：
宝塔面板：操作简便，具有远程连接管理服务器的功能，镜像商店齐全，部署上线多次未果，暂时不推荐
Nginx：是一种轻量级的http服务器，也是反向代理服务器，总之用起来有些复杂，不推荐
tomact: 比较流行的Web 应用服务器, 实际上Tomcat是Apache 服务器的扩展，但运行时它是独立运行 ,  一般不作为部署普通html网页使用， 不推荐
httpd：是apache软件包的名字，apache是超文本传输协议的主程序（http协议就是网站，端口默认80），配置文件简单易懂，推荐

# 网页部署上线流程：
## 1、准备好需要部署的文件
对于我们使用的httpd方法来说，每一个html文件需要其对应的css文件与之处于同一级别目录中，js文件、resouse图片集同理如此。">
<meta property="og:type" content="article">
<meta property="og:url" content="https://DayDeamerZ.github.io/DayDreamerZ.github.io/post/LNMP-bu-shu-wang-zhan-yu-yun-fu-wu-qi-shang-xian-quan-liu-cheng-shi-li--www.dongliqingdan.top%EF%BC%88-gai-yu-ming-yi-shi-xiao-%EF%BC%89.html">
<meta property="og:image" content="https://github.githubassets.com/favicons/favicon.svg">
<title>LNMP部署网站于云服务器上线全流程实例-www.dongliqingdan.top（该域名已失效）</title>



</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}
.copy-feedback {
    display: none;
    position: absolute;
    top: 10px;
    right: 50px;
    color: var(--color-fg-on-emphasis);
    background-color: var(--color-fg-muted);
    border-radius: 3px;
    padding: 5px 8px;
    font-size: 12px;
}
</style>




<body>
    <div id="header">
<h1 class="postTitle">LNMP部署网站于云服务器上线全流程实例-www.dongliqingdan.top（该域名已失效）</h1>
<div class="title-right">
    <a href="https://DayDeamerZ.github.io/DayDreamerZ.github.io" id="buttonHome" class="btn btn-invisible circle" title="首页">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    
    <a href="https://github.com/DayDeamerZ/DayDreamerZ.github.io/issues/5" target="_blank" class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="切换主题">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><h1>准备工作</h1>
<h2>1、云服务器：阿里云轻量级服务器</h2>
<p>原生配置：（购买服务器时勾选的自带配置）<br>
应用配置：</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/6f932dfd-04eb-4b56-ae74-66ef92cb9d8c"><img src="https://github.com/user-attachments/assets/6f932dfd-04eb-4b56-ae74-66ef92cb9d8c" alt="Image" style="max-width: 100%;"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/abe2ec39-5fec-44dc-b59c-0a21188a23eb"><img src="https://github.com/user-attachments/assets/abe2ec39-5fec-44dc-b59c-0a21188a23eb" alt="Image" style="max-width: 100%;"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/3560ffe6-3067-4daa-8765-4974d8775688"><img src="https://github.com/user-attachments/assets/3560ffe6-3067-4daa-8765-4974d8775688" alt="Image" style="max-width: 100%;"></a></p>
<p>系统配置：</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/ba351199-6a93-4c9d-b56a-98be604f3131"><img src="https://github.com/user-attachments/assets/ba351199-6a93-4c9d-b56a-98be604f3131" alt="Image" style="max-width: 100%;"></a></p>
<h2>2、域名</h2>
<p>购买域名：<br>
域名DNS解析：<br>
域名备案：</p>
<h2>3、服务器上线部署软件/平台</h2>
<p>目前了解到有：<br>
宝塔面板：操作简便，具有远程连接管理服务器的功能，镜像商店齐全，部署上线多次未果，暂时不推荐<br>
Nginx：是一种轻量级的http服务器，也是反向代理服务器，总之用起来有些复杂，不推荐<br>
tomact: 比较流行的Web 应用服务器, 实际上Tomcat是Apache 服务器的扩展，但运行时它是独立运行 ,  一般不作为部署普通html网页使用， 不推荐<br>
httpd：是apache软件包的名字，apache是超文本传输协议的主程序（http协议就是网站，端口默认80），配置文件简单易懂，推荐</p>
<h1>网页部署上线流程：</h1>
<h2>1、准备好需要部署的文件</h2>
<p>对于我们使用的httpd方法来说，每一个html文件需要其对应的css文件与之处于同一级别目录中，js文件、resouse图片集同理如此。</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/f33d1374-943a-4353-a74e-148ba2c108f8"><img src="https://github.com/user-attachments/assets/f33d1374-943a-4353-a74e-148ba2c108f8" alt="Image" style="max-width: 100%;"></a></p>
<p>因此，在前期书写代码时应提前有此布局准备，将所有页面分开成多个子文件夹，资源、css文件或js文件单独配置。（目前建议如此，后续可能找到更好的方法2022.12.1）</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/9b6c307a-c6e9-474f-9533-fc1bdefc9700"><img src="https://github.com/user-attachments/assets/9b6c307a-c6e9-474f-9533-fc1bdefc9700" alt="Image" style="max-width: 100%;"></a><br>
（找到了更好的排列方式2022.12.6）</p>
<h2>2、安装httpd</h2>
<pre class="notranslate"><code class="notranslate">yum install httpd -y
</code></pre>
<p>只要没看到什么wrn、failed、error什么的，基本就是没问题<br>
httpd安装后 /var文件夹中会多出来个/www/html 子目录，这个子目录就是以后我们用来部署html、css文件的地方。<br>
而httpd的配置文件位置则在/etc/httpd/conf/httpd.conf  配置文件就是用来控制httpd运行配置的地方<br>
这些目录的创建位置都是默认的，基本不会有不同的地方</p>
<h2>3、把准备好的部署文件塞到/var/www/html这个目录中去</h2>
<p>注意！一定要保证所有内容都在/html中 不能给/html整个同级的/css文件夹出来，没有用的<br>
配置文件的设置默认判断部署的内容都在/html中识别，除非你想把配置文件中那么多正则表达式慢慢换掉，否则最好给放/html里面<br>
这里我们只放了首页的文件，假如需要放入多个页面，可以在/var/www/html目录下设置多个子目录，每一个子目录都代表这一个完整的页面内容<br>
如/var/www/html/html01   /var/www/html/html02   …………etc<br>
然后再在这些html010203子目录下放入对应的html、css、js和所用到的图片文件<br>
上传途径：使用xftp软件远程连接服务器</p>
<h2>4、更改httpd配置文件</h2>
<pre class="notranslate"><code class="notranslate">
ServerRoot "/etc/httpd"
Listen 80
Include conf.modules.d/*.conf
User apache
Group apache
ServerAdmin root@localhost

&lt;Directory /&gt;
    AllowOverride none
    Require all granted
&lt;/Directory&gt;

ServerName localhost:80
DocumentRoot "/var/www/html"

&lt;Directory "/var/www"&gt;
    Options Indexes FollowSymLinks
    AllowOverride None
    # Allow open access:
    Require all granted
&lt;/Directory&gt;

&lt;Directory "/var/www/html"&gt;
    Options Indexes FollowSymLinks
    AllowOverride None
    Require all granted
&lt;/Directory&gt;

&lt;IfModule dir_module&gt;
    DirectoryIndex index.html
&lt;/IfModule&gt;

&lt;Files ".ht*"&gt;
    Require all denied
&lt;/Files&gt;

ErrorLog "logs/error_log"
LogLevel warn

&lt;IfModule log_config_module&gt;
    LogFormat "%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
    LogFormat "%h %l %u %t \"%r\" %&gt;s %b" common
&lt;IfModule logio_module&gt;
      LogFormat "%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-Agent}i\" %I %O" combinedio
&lt;/IfModule&gt;
    CustomLog "logs/access_log" combined
&lt;/IfModule&gt;

&lt;IfModule alias_module&gt;
    ScriptAlias /cgi-bin/ "/var/www/cgi-bin/"
&lt;/IfModule&gt;

&lt;Directory "/var/www/cgi-bin"&gt;
    AllowOverride None
    Options None
    Require all granted
&lt;/Directory&gt;

&lt;IfModule mime_module&gt;
    TypesConfig /etc/mime.types
    AddType application/x-compress .Z
    AddType application/x-gzip .gz .tgz
    AddType text/html .shtml
    AddOutputFilter INCLUDES .shtml
&lt;/IfModule&gt;

AddDefaultCharset UTF-8

&lt;IfModule mime_magic_module&gt;
    MIMEMagicFile conf/magic
&lt;/IfModule&gt;

EnableSendfile on

&lt;VirtualHost *:80&gt;
ServerName dongliqingdan.top
ServerAlias www.dongliqingdan.top
DocumentRoot /var/www/html
&lt;/VirtualHost&gt;
IncludeOptional conf.d/*.conf
</code></pre>
<p>ServerRoot：看后面内容就知道了，应该是说配置文件的路径的<br>
Listen：指的是监听的端口范围，默认值80<br>
其他的不用管</p>
<pre class="notranslate"><code class="notranslate">&lt;Directory /&gt;
    AllowOverride none
    Require all granted
&lt;/Directory&gt;

&lt;Directory "/var/www"&gt;
    Options Indexes FollowSymLinks
    AllowOverride None
    # Allow open access:
    Require all granted
&lt;/Directory&gt;

&lt;Directory "/var/www/html"&gt;
    Options Indexes FollowSymLinks
    AllowOverride None
    Require all granted
&lt;/Directory&gt;
</code></pre>
<p>/ 那个代表不管什么文件夹中的配置都是如下<br>
同理，/var/www将配置内容限制在了此目录内<br>
这里要说到，我们利用httpd上线网页的方式使用的是设置一个虚拟host的方式，所以不管是哪个目录位置，咱们只要保证有这三个在就行</p>
<pre class="notranslate"><code class="notranslate">    Options Indexes FollowSymLinks
    AllowOverride None
    Require all granted
</code></pre>
<p>第三个Require all granted最重要，代表我们获取了改动的权限，如果是Require no granted，一定要记得改掉，不然后续内容无法实现<br>
像这里，我们自然是找到对应路径为"/var/www/html"的标签，然后将里面的内容改成如上所示。</p>
<pre class="notranslate"><code class="notranslate">&lt;IfModule dir_module&gt;
    DirectoryIndex index.html
&lt;/IfModule&gt;

&lt;Files ".ht*"&gt;
    Require all denied
&lt;/Files&gt;

ErrorLog "logs/error_log"
LogLevel warn

&lt;IfModule log_config_module&gt;
    LogFormat "%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
    LogFormat "%h %l %u %t \"%r\" %&gt;s %b" common
&lt;IfModule logio_module&gt;
      LogFormat "%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-Agent}i\" %I %O" combinedio
&lt;/IfModule&gt;
    CustomLog "logs/access_log" combined
&lt;/IfModule&gt;

&lt;IfModule alias_module&gt;
    ScriptAlias /cgi-bin/ "/var/www/cgi-bin/"
&lt;/IfModule&gt;
</code></pre>
<p>像这里面长成这样的，最好都不要碰，别改就是了<br>
唯一值得注意下的就是</p>
<pre class="notranslate"><code class="notranslate">&lt;IfModule dir_module&gt;
    DirectoryIndex index.html
&lt;/IfModule&gt;
</code></pre>
<p>表示默认网页首页文件为：index.html，设置好了目录路径后会自动查询其中对应的文件名称<br>
个人建议就按照index这个来，乱改容易出问题</p>
<pre class="notranslate"><code class="notranslate">DocumentRoot "/var/www/html"

&lt;VirtualHost *:80&gt;
ServerName dongliqingdan.top
ServerAlias www.dongliqingdan.top
DocumentRoot /var/www/html
&lt;/VirtualHost&gt;
</code></pre>
<p>默认的部署文件内容目录路径，如果有很多html010203这类子文件夹，应该要在其后下移一位成/var/www/html/html01（html01是网页首页文件夹）</p>
<p>除了这些外，整个文件中，唯一需要我们手动加上的语句就是</p>
<pre class="notranslate"><code class="notranslate">ServerName localhost:80

&lt;VirtualHost *:80&gt;
ServerName dongliqingdan.top
ServerAlias www.dongliqingdan.top
DocumentRoot /var/www/html
&lt;/VirtualHost&gt;
</code></pre>
<p>ServerName localhost:80<br>
注意！<br>
这一语句后面的端口号，才是我们真正需要改写的端口号。<br>
假如我们想不通过80端口域名访问，而是直接使用服务器公网ip加上自定义端口号访问网页<br>
那么我们可以境这句话改为<br>
ServerName localhost:你自定义的端口号<br>
如<br>
ServerName localhost:9999 （注意，请确保你自定义的端口未被占用）<br>
此时就算是前面的<br>
Listen:80的端口范围不动，仍为80也不会影响你的自定义端口访问</p>
<p>我们需要使用域名访问（http），因此这里保持默认的80端口范围</p>
<p>&lt;VirtualHost *:80&gt;<br>
ServerName dongliqingdan.top<br>
ServerAlias <a href="http://www.dongliqingdan.top" rel="nofollow">www.dongliqingdan.top</a><br>
DocumentRoot /var/www/html<br>
</p>
<p>到这里，我们才开始真正设置了我们的虚拟host的配置。<br>
*：后面的是前面ServerName localhost所设置的端口值，这里仍是80二者请确保端口一致</p>
<p>ServerName dongliqingdan.top<br>
表示访问的一级域名</p>
<p>ServerAlias <a href="http://www.dongliqingdan.top" rel="nofollow">www.dongliqingdan.top</a><br>
表示访问的二级域名</p>
<p>DocumentRoot /var/www/html<br>
表示该虚拟主机通过一二级域名访问后，将会跳转到的html文件所在查找路径</p>
<p>倘若设置了html010203子目录，那么此处应改写为<br>
DocumentRoot /var/www/html/html01<br>
或<br>
DocumentRoot /var/www/html/html02<br>
……</p>
<p>到这里就修改完毕了。<br>
若使用xftp软件修改，保存后关闭即可。<br>
若使用命令 vi /etc/httpd/conf/httpd.conf<br>
规则如下<br>
i键，进入读写模式<br>
esc键，退出读写模式<br>
:wq！  保存并退出<br>
:q       直接退出</p>
<p>注：若想要使用http80端口外的自定义端口连接到网页，就不必再新加标签，只需要给加个SeverName localhost：9999就行了，因为就算加了也没有用，使用域名的前提是使用http80端口<br>
此时直接使用公网ip加:9999就能够访问了<br>
例如：642.482.936.145:9999<br>
并且，这种方式只适用于自定义端口，80端口是无法用这种方式访问“：”后面加80是不奏效的</p>
<h2>5、检查配置文件内容语法并重新启动httpd</h2>
<p>检查语法</p>
<pre class="notranslate"><code class="notranslate">httpd -t
</code></pre>
<p>可能会出现一到两个错误，此时建议自己搜解决方法<br>
本人遇到两个错误<br>
AH00548: NameVirtualHost has no effect and will be removed in the next release /usr/local/apache/conf/extra/httpd-vhosts.conf:1<br>
解决方法：原因是apache-2.4.x版本后的NameVirtualHost *:80这句已经多余，无需写入配置文档，删除即可<br>
AH00558: httpd: Could not reliably determine the server's fully qualified domain name, using localho<br>
解决方法：原因就是端口无法使用，大概率是被其他程序占用了<br>
在root权限下命令行输入代码</p>
<pre class="notranslate"><code class="notranslate">netstat -lnp | grep 80
</code></pre>
<p>查看端口80的使用情况，若指定了别的端口自己改<br>
tcp 0      x x.x.x.x:8084        ...   listen   1167/mono<br>
tcp 0      x x.x.x.x:80          ...   listen   1194/nginx<br>
udp 0      x x.x.x.x:2080        ...   listen   14427/drcomauthsvr<br>
可以看到是线程为1194的nginx程序占用了80端口，给他杀掉就行了</p>
<pre class="notranslate"><code class="notranslate">kill 1194
</code></pre>
<p>最后重启httpd就大功告成了</p>
<pre class="notranslate"><code class="notranslate">systemctl restart httpd
</code></pre>
<p>---------------------------------分割线 2022/12/5------------------------------<br>
经过后续页面的添加过程发现<br>
/var/www/html 目录中的文件/文件夹先后规则如下：</p>
<h1>一、</h1>
<p>在配置文件中设置的默认html查找路径（也就是这里的/var/www/html），所需展示的页面html文件应在此路径的第一级子目录下，也就是 /var/www/html/index.html ("配置文件中设置的查找路径"/"首页.html")<br>
即，index.html不得再向下成为二级子目录中的文件，否则无法查找到。</p>
<h1>二、</h1>
<p>httpd配置文件的查找是以index.html文件为“锚点”向下定位的。<br>
举个例子：</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/e45ad554-3c5d-428d-b72d-db75f156d329"><img src="https://github.com/user-attachments/assets/e45ad554-3c5d-428d-b72d-db75f156d329" alt="Image" style="max-width: 100%;"></a></p>
<p>这样的文件夹配置方式是比较合理的类型<br>
注意：若想要html、js、css文件夹里的文件能够被引用到，必须要满足自身位置小于或等于index.html锚点文件所在位置<br>
像这里，html、js、css文件夹与index.html同级，能够成功引用</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/a7f22bb9-4d75-4ea5-a555-8a2c582c4ea6"><img src="https://github.com/user-attachments/assets/a7f22bb9-4d75-4ea5-a555-8a2c582c4ea6" alt="Image" style="max-width: 100%;"></a></p>
<p>这种同理，位置小于index.html文件，能够被向下搜寻到</p>
<p>（作为锚点文件，index.html必须被放在查找路径下的第一级目录，但是其他html、css或js文件没有这个要求，同样遵循小于或等于的原则）</p>
<p>下图是错误示范</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/2b0a7cd6-ed02-42fd-960f-85fdbb12d9d7"><img src="https://github.com/user-attachments/assets/2b0a7cd6-ed02-42fd-960f-85fdbb12d9d7" alt="Image" style="max-width: 100%;"></a></p>
<p>查找到index.html文件后，无法向上引用其他文件夹的内容，因此会导致可以跳转到其他html文件的页面，但是却没有任何css样式或者js功能，引用png、jpg图片也是同样的道理。</p></div>
<div style="font-size:small;margin-top:8px;float:right;"></div>

<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">评论</button>
<div class="comments" id="comments"></div>

</div>
    <div id="footer"><div id="footer1">Copyright © <span id="copyrightYear"></span> <a href="https://DayDeamerZ.github.io/DayDreamerZ.github.io">DayDreamerZ的博客</a></div>
<div id="footer2">
    <span id="runday"></span><span>Powered by <a href="https://meekdai.com/Gmeek.html" target="_blank">Gmeek</a></span>
</div>

<script>
var now=new Date();
document.getElementById("copyrightYear").innerHTML=now.getFullYear();

if(""!=""){
    var startSite=new Date("");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("runday").innerHTML="网站运行"+diffDay+"天"+" • ";
}
</script></div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z', 'copy': 'M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z', 'check': 'M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z'};
var utterancesLoad=0;

let themeSettings={
    "dark": ["dark","moon","#00f0ff","dark-blue"],
    "light": ["light","sun","#ff5000","github-light"],
    "auto": ["auto","sync","","preferred-color-scheme"]
};
function changeTheme(mode, icon, color, utheme){
    document.documentElement.setAttribute("data-color-mode",mode);
    document.getElementById("themeSwitch").setAttribute("d",value=IconList[icon]);
    document.getElementById("themeSwitch").parentNode.style.color=color;
    if(utterancesLoad==1){utterancesTheme(utheme);}
}
function modeSwitch(){
    let currentMode=document.documentElement.getAttribute('data-color-mode');
    let newMode = currentMode === "light" ? "dark" : currentMode === "dark" ? "auto" : "light";
    localStorage.setItem("meek_theme", newMode);
    if(themeSettings[newMode]){
        changeTheme(...themeSettings[newMode]);
    }
}
function utterancesTheme(theme){
    const message={type:'set-theme',theme: theme};
    const iframe=document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message,'https://utteranc.es');
}
if(themeSettings[theme]){changeTheme(...themeSettings[theme]);}
console.log("\n %c Gmeek last https://github.com/Meekdai/Gmeek \n","padding:5px 0;background:#02d81d;color:#fff");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);



function openComments(){
    cm=document.getElementById("comments");
    cmButton=document.getElementById("cmButton");
    cmButton.innerHTML="loading";
    span=document.createElement("span");
    span.setAttribute("class","AnimatedEllipsis");
    cmButton.appendChild(span);

    script=document.createElement("script");
    script.setAttribute("src","https://utteranc.es/client.js");
    script.setAttribute("repo","DayDeamerZ/DayDreamerZ.github.io");
    script.setAttribute("issue-term","title");
    
    if(localStorage.getItem("meek_theme")=="dark"){script.setAttribute("theme","dark-blue");}
    else if(localStorage.getItem("meek_theme")=="light") {script.setAttribute("theme","github-light");}
    else{script.setAttribute("theme","preferred-color-scheme");}
    
    script.setAttribute("crossorigin","anonymous");
    script.setAttribute("async","");
    cm.appendChild(script);

    int=self.setInterval("iFrameLoading()",200);
}

function iFrameLoading(){
    var utterances=document.getElementsByClassName('utterances');
    if(utterances.length==1){
        if(utterances[0].style.height!=""){
            utterancesLoad=1;
            int=window.clearInterval(int);
            document.getElementById("cmButton").style.display="none";
            console.log("utterances Load OK");
        }
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const createClipboardHTML = (codeContent, additionalClasses = '') => `
        <pre class="notranslate"><code class="notranslate">${codeContent}</code></pre>
        <div class="clipboard-container position-absolute right-0 top-0 ${additionalClasses}">
            <clipboard-copy class="ClipboardButton btn m-2 p-0" role="button" style="display: inherit;">
                <svg height="16" width="16" class="octicon octicon-copy m-2"><path d="${IconList["copy"]}"></path></svg>
                <svg height="16" width="16" class="octicon octicon-check color-fg-success m-2 d-none"><path d="${IconList["check"]}"></path></svg>
            </clipboard-copy>
            <div class="copy-feedback">Copied!</div>
        </div>
    `;

    const handleCodeElements = (selector = '') => {
        document.querySelectorAll(selector).forEach(codeElement => {
            const codeContent = codeElement.innerHTML;
            const newStructure = document.createElement('div');
            newStructure.className = 'snippet-clipboard-content position-relative overflow-auto';
            newStructure.innerHTML = createClipboardHTML(codeContent);

            const parentElement = codeElement.parentElement;
            if (selector.includes('highlight')) {
                parentElement.insertBefore(newStructure, codeElement.nextSibling);
                parentElement.removeChild(codeElement);
            } else {
                parentElement.parentElement.replaceChild(newStructure, parentElement);
            }
        });
    };

    handleCodeElements('pre.notranslate > code.notranslate');
    handleCodeElements('div.highlight > pre.notranslate');

    let currentFeedback = null;
    document.querySelectorAll('clipboard-copy').forEach(copyButton => {
        copyButton.addEventListener('click', () => {
            const codeContent = copyButton.closest('.snippet-clipboard-content').innerText;
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = codeContent;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            document.execCommand('copy');
            document.body.removeChild(tempTextArea);

            const copyIcon = copyButton.querySelector('.octicon-copy');
            const checkIcon = copyButton.querySelector('.octicon-check');
            const copyFeedback = copyButton.nextElementSibling;

            if (currentFeedback && currentFeedback !== copyFeedback) {currentFeedback.style.display = 'none';}
            currentFeedback = copyFeedback;

            copyIcon.classList.add('d-none');
            checkIcon.classList.remove('d-none');
            copyFeedback.style.display = 'block';
            copyButton.style.borderColor = 'var(--color-success-fg)';

            setTimeout(() => {
                copyIcon.classList.remove('d-none');
                checkIcon.classList.add('d-none');
                copyFeedback.style.display = 'none';
                copyButton.style.borderColor = '';
            }, 2000);
        });
    });
});

</script>


</html>
